const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DovPUbum.js","./BbsFhn3w.js","./CxvVNjdZ.js","./DOUl3k6R.js","./C_rUSLnT.js","./Twemoji.Bw4fa50a.css"])))=>i.map(i=>d[i]);
import{_ as q}from"./CxvVNjdZ.js";import A from"./DOUl3k6R.js";import{g as C,c as D,o as h,a as u,b as N,t as O,F as B,r as I,j as R,m as M,k as U,l as y,n as $,s as W,p as V,q as k,v as G,x as Q,y as z,z as j,A as K,B as H,C as F,D as Y,e as J,E as X,G as Z}from"./BbsFhn3w.js";const ee={id:"travel-card"},te={class:"group relative aspect-[4/5] overflow-hidden rounded-2xl border border-white/30 shadow-lg"},re={class:"absolute bottom-0 left-0 z-10 flex w-full flex-col bg-white/20 px-5 py-3 backdrop-blur-md"},ae={class:"flex items-center space-x-2"},se={class:"flex w-full items-center justify-between"},ne={class:"font-semibold text-slate-50 drop-shadow-sm"},oe={class:"flex space-x-1 text-sm drop-shadow-sm"},ie={class:"mt-1 text-sm text-slate-50/90 drop-shadow-sm"},ce=C({__name:"TravelCard",props:{id:{},slug:{},title:{},description:{},startDate:{},endDate:{},location:{},type:{},tags:{},coverPhoto:{},owner:{},contributors:{},stats:{}},setup(a){const s=n=>{const t={month:"long",year:"numeric"};return new Date(n).toLocaleDateString("en",t)},r=n=>Array.from(n.toUpperCase()).map(e=>String.fromCodePoint(127397+e.charCodeAt(0))).join("");return(n,t)=>{const e=q,o=A;return h(),D("div",ee,[u("div",te,[N(e,{src:n.coverPhoto,alt:n.title,class:"absolute inset-0 h-full w-full object-cover",height:"500",width:"400"},null,8,["src","alt"]),t[0]||(t[0]=u("div",{class:"pointer-events-none absolute inset-0 z-0 rounded-2xl bg-white/10 opacity-0 transition duration-100 group-hover:opacity-100 group-hover:shadow-[0_0_25px_4px_rgba(255,255,255,0.6)]"},null,-1)),u("div",re,[u("div",ae,[u("div",se,[u("h3",ne,O(n.title),1),u("p",oe,[(h(!0),D(B,null,I(n.location.countries.map(r),(d,_)=>(h(),R(o,{key:_,emoji:d},null,8,["emoji"]))),128))])])]),u("p",ie,O(s(n.startDate)),1)])])])}}}),le={class:"mt-3 grid grid-cols-1 gap-5 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},de=C({__name:"TravelCardGrid",props:{cards:{}},setup(a){return(s,r)=>{const n=ce;return h(),D("section",null,[u("div",le,[(h(!0),D(B,null,I(s.cards,t=>(h(),R(n,M({key:t.title,ref_for:!0},t),null,16))),128))])])}}}),ue=a=>a==="defer"||a===!1;function fe(...a){var P;const s=typeof a[a.length-1]=="string"?a.pop():void 0;typeof a[0]!="string"&&a.unshift(s);let[r,n,t={}]=a;if(typeof r!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof n!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const e=U(),o=n,d=()=>y.value,_=()=>e.isHydrating?e.payload.data[r]:e.static.data[r];t.server??(t.server=!0),t.default??(t.default=d),t.getCachedData??(t.getCachedData=_),t.lazy??(t.lazy=!1),t.immediate??(t.immediate=!0),t.deep??(t.deep=y.deep),t.dedupe??(t.dedupe="cancel");const p=t.getCachedData(r,e),S=p!=null;if(!e._asyncData[r]||!t.immediate){(P=e.payload._errors)[r]??(P[r]=y.errorValue);const l=t.deep?$:W;e._asyncData[r]={data:l(S?p:t.default()),pending:$(!S),error:V(e.payload._errors,r),status:$("idle"),_default:t.default}}const i={...e._asyncData[r]};delete i._default,i.refresh=i.execute=(l={})=>{if(e._asyncDataPromises[r]){if(ue(l.dedupe??t.dedupe))return e._asyncDataPromises[r];e._asyncDataPromises[r].cancelled=!0}if(l._initial||e.isHydrating&&l._initial!==!1){const f=l._initial?p:t.getCachedData(r,e);if(f!=null)return Promise.resolve(f)}i.pending.value=!0,i.status.value="pending";const m=new Promise((f,c)=>{try{f(o(e))}catch(b){c(b)}}).then(async f=>{if(m.cancelled)return e._asyncDataPromises[r];let c=f;t.transform&&(c=await t.transform(f)),t.pick&&(c=me(c,t.pick)),e.payload.data[r]=c,i.data.value=c,i.error.value=y.errorValue,i.status.value="success"}).catch(f=>{if(m.cancelled)return e._asyncDataPromises[r];i.error.value=H(f),i.data.value=F(t.default()),i.status.value="error"}).finally(()=>{m.cancelled||(i.pending.value=!1,delete e._asyncDataPromises[r])});return e._asyncDataPromises[r]=m,e._asyncDataPromises[r]},i.clear=()=>_e(e,r);const x=()=>i.refresh({_initial:!0}),E=t.server!==!1&&e.payload.serverRendered;{const l=k();if(l&&E&&t.immediate&&!l.sp&&(l.sp=[]),l&&!l._nuxtOnBeforeMountCbs){l._nuxtOnBeforeMountCbs=[];const c=l._nuxtOnBeforeMountCbs;G(()=>{c.forEach(b=>{b()}),c.splice(0,c.length)}),Q(()=>c.splice(0,c.length))}E&&e.isHydrating&&(i.error.value||p!=null)?(i.pending.value=!1,i.status.value=i.error.value?"error":"success"):l&&(e.payload.serverRendered&&e.isHydrating||t.lazy)&&t.immediate?l._nuxtOnBeforeMountCbs.push(x):t.immediate&&x();const m=K();if(t.watch){const c=z(t.watch,()=>i.refresh());m&&j(c)}const f=e.hook("app:data:refresh",async c=>{(!c||c.includes(r))&&await i.refresh()});m&&j(f)}const T=Promise.resolve(e._asyncDataPromises[r]).then(()=>i);return Object.assign(T,i),T}function _e(a,s){s in a.payload.data&&(a.payload.data[s]=void 0),s in a.payload._errors&&(a.payload._errors[s]=y.errorValue),a._asyncData[s]&&(a._asyncData[s].data.value=void 0,a._asyncData[s].error.value=y.errorValue,a._asyncData[s].pending.value=!1,a._asyncData[s].status.value="idle"),s in a._asyncDataPromises&&(a._asyncDataPromises[s]&&(a._asyncDataPromises[s].cancelled=!0),a._asyncDataPromises[s]=void 0)}function me(a,s){const r={};for(const n of s)r[n]=a[n];return r}const L={trips:"v3.5.0--Y-pPVRMDBWRwOENmSoQymfsOGLw8SKjcGCjagKwceS4"},he={trips:"_content_trips",info:"_content_info"},Ee={trips:{type:"data",fields:{id:"string",title:"string",contributors:"json",coverPhoto:"string",description:"string",endDate:"date",extension:"string",location:"json",meta:"json",owner:"string",slug:"string",startDate:"date",stats:"json",stem:"string",tags:"json",type:"string"}},info:{type:"data",fields:{}}},w=(a,s)=>{const r=a._conditions;return r.length>0?`(${r.join(` ${s} `)})`:""},v=a=>{const s=[],r={_conditions:s,where(n,t,e){let o;switch(t.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(e)){const d=e.map(_=>g(_)).join(", ");o=`"${String(n)}" ${t.toUpperCase()} (${d})`}else throw new TypeError(`Value for ${t} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(e)&&e.length===2)o=`"${String(n)}" ${t.toUpperCase()} ${g(e[0])} AND ${g(e[1])}`;else throw new Error(`Value for ${t} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":o=`"${String(n)}" ${t.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":o=`"${String(n)}" ${t.toUpperCase()} ${g(e)}`;break;default:o=`"${String(n)}" ${t} ${g(typeof e=="boolean"?Number(e):e)}`}return s.push(`${o}`),r},andWhere(n){const t=n(v());return s.push(w(t,"AND")),r},orWhere(n){const t=n(v());return s.push(w(t,"OR")),r}};return r},pe=(a,s)=>{const r={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},n={__params:r,andWhere(e){const o=e(v());return r.conditions.push(w(o,"AND")),n},orWhere(e){const o=e(v());return r.conditions.push(w(o,"OR")),n},path(e){return n.where("path","=",Y(e))},skip(e){return r.offset=e,n},where(e,o,d){return n.andWhere(_=>_.where(String(e),o,d)),n},limit(e){return r.limit=e,n},select(...e){return e.length&&r.selectedFields.push(...e),n},order(e,o){return r.orderBy.push(`"${String(e)}" ${o}`),n},async all(){return s(a,t()).then(e=>e||[])},async first(){return s(a,t({limit:1})).then(e=>e[0]||null)},async count(e="*",o=!1){return s(a,t({count:{field:String(e),distinct:o}})).then(d=>d[0].count)}};function t(e={}){let o="SELECT ";if(e!=null&&e.count)o+=`COUNT(${e.count.distinct?"DISTINCT ":""}${e.count.field}) as count`;else{const _=Array.from(new Set(r.selectedFields));o+=_.length>0?_.map(p=>`"${String(p)}"`).join(", "):"*"}o+=` FROM ${he[String(a)]}`,r.conditions.length>0&&(o+=` WHERE ${r.conditions.join(" AND ")}`),r.orderBy.length>0?o+=` ORDER BY ${r.orderBy.join(", ")}`:o+=" ORDER BY stem ASC";const d=(e==null?void 0:e.limit)||r.limit;return d>0&&(r.offset>0?o+=` LIMIT ${d} OFFSET ${r.offset}`:o+=` LIMIT ${d}`),o}return n};function g(a){return`'${String(a).replace(/'/g,"''")}'`}async function Te(a,s){return await $fetch(`/__nuxt_content/${s}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:L[String(s)],t:void 0}})}async function ye(a,s,r){var n,t,e;return await $fetch(`/__nuxt_content/${s}/query`,{context:a?{cloudflare:a.context.cloudflare}:{},headers:{"content-type":"application/json",...(e=(t=(n=a==null?void 0:a.node)==null?void 0:n.req)==null?void 0:t.headers)!=null&&e.cookie?{cookie:a.node.req.headers.cookie}:{}},query:{v:L[String(s)],t:void 0},method:"POST",body:{sql:r}})}const ge=a=>{var r,n;const s=(n=(r=J())==null?void 0:r.ssrContext)==null?void 0:n.event;return pe(a,(t,e)=>De(s,t,e))};async function De(a,s,r){return window.WebAssembly?we(s,r):ye(a,String(s),r)}async function we(a,s){return await X(()=>import("./DovPUbum.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then(n=>n.loadDatabaseAdapter(a)).then(n=>n.all(s))}const ve={class:"container mx-auto px-3 py-5"},be={id:"travel-grid-card"},$e=C({__name:"travel",async setup(a){let s,r;const{data:n}=([s,r]=Z(()=>fe("trips",()=>ge("trips").order("startDate","DESC").all())),s=await s,r(),s);return(t,e)=>{const o=de;return h(),D("div",ve,[e[0]||(e[0]=u("div",null,[u("h1",{class:"text-2xl font-semibold text-slate-50"},"Trips")],-1)),u("div",be,[N(o,{cards:F(n)},null,8,["cards"])])])}}}),Pe=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"}));export{L as a,Pe as b,Ee as c,Te as f,he as t};
