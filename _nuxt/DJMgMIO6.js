import{_ as I}from"./BMNK2DXV.js";import{_ as M}from"./Cg85jX_B.js";import{_ as O}from"./Brsy9AAP.js";import{e as U,f as b,o as l,w as V,a as e,b as Z,t as a,u as K,g as R,c as m,n as G,h as r,F as x,r as f,m as H}from"./DwikXLhb.js";import{u as J,q as Q}from"./BZdGS2Xm.js";import{a as W}from"./DdOD8nSq.js";import"./BQ4mpYVl.js";const X={class:"group relative aspect-[4/5] overflow-hidden rounded-lg border border-white/30 shadow-lg sm:rounded-2xl"},Y={class:"absolute bottom-0 left-0 z-10 flex w-full flex-col bg-slate-900/70 px-2 py-1 sm:px-3 sm:py-2"},tt={class:"flex items-center space-x-2"},et={class:"flex w-full items-center justify-between"},st={class:"font-mono text-xs text-slate-200 drop-shadow-sm sm:text-sm"},ot={class:"font-mono text-xs text-slate-200 drop-shadow-sm sm:text-sm"},rt=U({__name:"PhotoCard",props:{slug:{},title:{},description:{},dateTaken:{},photoUrl:{}},setup(z){const i=o=>{const t={day:"numeric",month:"short"};return new Date(o).toLocaleDateString("en",t)},u=o=>{const t={hour:"2-digit",minute:"2-digit",hour12:!1};return new Date(o).toLocaleTimeString("en",t)};return(o,t)=>{const p=M,c=O;return l(),b(c,{id:"travel-card",to:o.photoUrl,external:""},{default:V(()=>[e("div",X,[Z(p,{src:o.photoUrl,alt:o.title,modifiers:{rotate:null},class:"absolute inset-0 h-full w-full bg-slate-700 object-cover",height:"600",width:"480"},null,8,["src","alt"]),e("div",Y,[e("div",tt,[e("div",et,[e("div",st,a(i(o.dateTaken)),1),e("div",ot,a(u(o.dateTaken)),1)])])])])]),_:1},8,["to"])}}}),at={class:"container mx-auto max-w-6xl sm:py-5"},nt={class:"text-slate-50"},lt={class:"container relative mx-auto flex h-full items-center justify-between px-6"},it={class:"text-4xl font-bold"},dt={class:"mt-2 flex space-x-1 text-sm"},ct={class:"rounded-full border border-white/10 bg-white/5 px-2 py-1 backdrop-blur-[10px]"},mt={class:"flex items-center space-x-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-sm drop-shadow-sm backdrop-blur-[10px]"},ut={class:"container mx-auto -mt-16 pb-12"},pt={class:"mx-5 mb-8 rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-[10px]"},_t={class:"mb-4"},ht={class:"mb-4 flex flex-wrap gap-2"},xt={class:"flex space-x-8 text-center"},ft={class:"text-3xl font-bold"},bt={class:"text-3xl font-bold"},gt={class:"mt-8"},vt={class:"grid grid-cols-3 gap-1 border-4 border-transparent bg-transparent sm:gap-3 lg:grid-cols-4 xl:grid-cols-6"},Pt=U({__name:"[slug]",async setup(z){var g,v,w,y,D,k,S;let i,u;const o=K(),{data:t}=([i,u]=R(()=>J(o.path,()=>Q("trips").order("startDate","DESC").where("slug","=",o.params.slug).first(),"$z4-Z8Z1K2N")),i=await i,u(),i),p=n=>{const s={day:"numeric",month:"short"};return n?new Date(n).toLocaleDateString("en",s):"-"},c=n=>{const s={day:"numeric",month:"short",year:"numeric"};return n?new Date(n).toLocaleDateString("en",s):"-"},q=n=>Array.from(n.toUpperCase()).map(_=>String.fromCodePoint(127397+_.charCodeAt(0))).join("");return W({title:((g=t==null?void 0:t.value)==null?void 0:g.title)+" ("+c((v=t==null?void 0:t.value)==null?void 0:v.startDate)+") â€¢ lloyd.cx",ogTitle:((w=t==null?void 0:t.value)==null?void 0:w.title)+" ("+c((y=t==null?void 0:t.value)==null?void 0:y.startDate)+")",description:(D=t==null?void 0:t.value)==null?void 0:D.description,ogDescription:(k=t==null?void 0:t.value)==null?void 0:k.description,ogImage:"https://lloyd.cx/"+((S=t==null?void 0:t.value)==null?void 0:S.coverPhoto),twitterCard:"summary_large_image"}),(n,s)=>{var C,$,P,T,j,A,F,E,L,N,B;const _=I;return l(),m("div",at,[e("div",nt,[e("header",{class:"relative h-64 bg-cover bg-center",style:G('background-image: url("'+((C=r(t))==null?void 0:C.coverPhoto)+'");')},[s[0]||(s[0]=e("div",{class:"absolute inset-0 bg-black/50"},null,-1)),e("div",lt,[e("div",null,[e("h1",it,a(($=r(t))==null?void 0:$.title),1),e("div",dt,[e("span",ct,a(p((P=r(t))==null?void 0:P.startDate))+" - "+a(c((T=r(t))==null?void 0:T.endDate)),1),e("span",mt,[(l(!0),m(x,null,f((j=r(t))==null?void 0:j.countries.map(q),(d,h)=>(l(),b(_,{key:h,emoji:d},null,8,["emoji"]))),128))])])])])],4),e("main",ut,[e("section",pt,[s[3]||(s[3]=e("h2",{class:"mb-4 text-2xl font-semibold"},"About this trip",-1)),e("p",_t,a((A=r(t))==null?void 0:A.description),1),e("div",ht,[(l(!0),m(x,null,f((F=r(t))==null?void 0:F.tags,(d,h)=>(l(),m("span",{key:h,class:"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-sm backdrop-blur-[10px]"},"#"+a(d),1))),128))]),e("div",xt,[e("div",null,[e("div",ft,a((L=(E=r(t))==null?void 0:E.photos)==null?void 0:L.length),1),s[1]||(s[1]=e("div",{class:"text-sm"},"Photos",-1))]),e("div",null,[e("div",bt,a((N=r(t))==null?void 0:N.stats.memories),1),s[2]||(s[2]=e("div",{class:"text-sm"},"Memories",-1))])])]),e("section",gt,[s[4]||(s[4]=e("h2",{class:"mb-4 px-5 text-2xl font-semibold"},"Photos",-1)),e("div",vt,[(l(!0),m(x,null,f((B=r(t))==null?void 0:B.photos,d=>(l(),b(rt,H({key:d.id,ref_for:!0},d),null,16))),128))])])])])])}}});export{Pt as default};
